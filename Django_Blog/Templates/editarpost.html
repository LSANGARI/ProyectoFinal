{% extends 'index.html' %}
{% load static %}

{% block titulo %}
  {{ detalle_post.titulo }}
{% endblock titulo %}

{% block imagen %}
  

{{ detalle_post.imagen.url }}


{% endblock imagen %}

{% block titulo_principal %}






<h1>Modificar Post</h1>
<h2> {{ detalle_post.titulo }}</h2>
   

   

{% endblock titulo_principal %}

{% block barra_busqueda %}
{% endblock barra_busqueda %}

{% block contenido %}
  

<script src="/static/ckeditor/ckeditor-init.js" data-ckeditor-basepath="/static/ckeditor/ckeditor/" id="ckeditor-init-script"></script>

<script src="/static/ckeditor/ckeditor/ckeditor.js"></script>



<form enctype="multipart/form-data" method="post" id="post_form" novalidate><input type="hidden" name="csrfmiddlewaretoken" value="">
  <div>



        <fieldset class="module aligned ">
              <div class="form-row field-titulo">
                  <div>
                          <label class="required" for="id_titulo">Titulo:</label>              
                              <input type="text" name="titulo" value="{{ detalle_post.titulo }}" class="form-control" maxlength="90" required id="id_titulo">     
                  </div>
              </div>
      
          <div class="form-row field-slug">
                <div>
                       <label class="required" for="id_slug">Slug:</label>              
                              <input type="text" name="slug" value="{{ detalle_post.titulo }}" class="form-control" maxlength="100" required id="id_slug">
                </div>
          </div>
      
          <div class="form-row field-descripcion">
                  <div>
                          <label class="required" for="id_descripcion">Descripcion:</label>
                              <input type="text" name="descripcion" value="{{ detalle_post.descripcion}}" class="form-control" maxlength="110" required id="id_descripcion">
                  </div>
          </div>
          <div class="form-row field-contenido">
                  <div>
                          <label class="required" for="id_contenido">Contenido:</label>
                          
                              <div class="django-ckeditor-widget" data-field-id="id_contenido" style="display: inline-block;">
      <textarea name="contenido" cols="40" rows="10" required id="id_contenido" data-processed="0" data-config="{&quot;skin&quot;: &quot;moono-lisa&quot;, &quot;toolbar_Basic&quot;: [[&quot;Source&quot;, &quot;-&quot;, &quot;Bold&quot;, &quot;Italic&quot;]], &quot;toolbar_Full&quot;: [[&quot;Styles&quot;, &quot;Format&quot;, &quot;Bold&quot;, &quot;Italic&quot;, &quot;Underline&quot;, &quot;Strike&quot;, &quot;SpellChecker&quot;, &quot;Undo&quot;, &quot;Redo&quot;], [&quot;Link&quot;, &quot;Unlink&quot;, &quot;Anchor&quot;], [&quot;Image&quot;, &quot;Flash&quot;, &quot;Table&quot;, &quot;HorizontalRule&quot;], [&quot;TextColor&quot;, &quot;BGColor&quot;], [&quot;Smiley&quot;, &quot;SpecialChar&quot;], [&quot;Source&quot;]], &quot;toolbar&quot;: &quot;full&quot;, &quot;height&quot;: 291, &quot;width&quot;: 835, &quot;filebrowserWindowWidth&quot;: 940, &quot;filebrowserWindowHeight&quot;: 725, &quot;language&quot;: &quot;es-ar&quot;}" data-external-plugin-resources="[]" data-id="id_contenido" data-type="ckeditortype">

        {{ detalle_post.contenido}}

      </textarea>
  </div>
                  </div>
          </div>
          
          <div class="form-row field-imagen">
                  <div>
                          <label class="required" for="id_imagen">Imagen:</label>
                              <p class="file-upload">Actualmente: <a href="{{ detalle_post.imagen.url}}">{{ detalle_post.imagen.url}}</a><br>
  Modificar:
  <input type="file" name="imagen" accept="image/*" id="id_imagen"></p>
                  </div>
          </div>
          <div class="form-row field-autor">
                  <div>
                          <label class="required" for="id_autor">Autor:</label>

                          <select class="form-select" name="autor" required id="id_autor">
                         
                        
                         
                          {% for autor in lista_autores %}
                        
                              {% if autor.id != detalle_post.autor %}
                                  <option value="{{autor.id}}" selected> {{ autor.apellido}},{{autor.nombre}}</option>                
                                    

                               {%else%}
                               <option value="{{autor.id}}"> {{ autor.apellido}},{{autor.nombre}}</option>
                                {%endif%}
                                               
                          {% endfor %}
                           </select>
     
                     
                  </div>
              
          </div>
      
 

                  <div>
                          <label class="required" for="categorias">Categoria:</label>
                              <select class="form-select" name="categoria" required id="categorias">
                                       {% for categoria in categorias %}
                                            {% if categoria.id == detalle_post.id %}
                                               <option value="{{categoria.id}}" selected> {{categoria.nombre}} </option>
                                           {%else%}
                                               <option value="{{categoria.id}}"> {{categoria.nombre}}</option>
                                           {%endif%}
                                       {% endfor %}                             
                                     </select>
          </div>
        
                  
        {% if detalle_post.estado == True %}

                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="estado" value="" id="{{detalle_post.estado}}" checked>
                    <label class="form-check-label" for="{{detalle_post.estado}}">Publicado/No Publicado </label>
                  </div>
        {% else %}

              <div class="form-check">
                <input class="form-check-input" type="checkbox" name="estado" value="" id="{{detalle_post.estado}}" >
                <label class="form-check-label" for="{{detalle_post.estado}}">Publicado/No Publicado </label>
              </div>
        {% endif %}
          

  </fieldset>
  
  <div class="submit-row">
  </div>
  </div>
  </form>


       
  {% if user.is_authenticated%}
  <center>
    <span >
  <a class="btn btn-primary" href="" role="button">Guardar</a>
</span>
<span >
  <a class="btn btn-danger" href="" role="button">Cancelar</a>
</span>
</center>
{% endif%}

{% endblock contenido %}
